import{c as u,u as _,a as p,b as n,o as c,d as e,n as g,t as o,h,r as b,F as f,e as w,f as v}from"./index-DXwcSwxi.js";import{a as y}from"./cartService-CfKSr7b5.js";const $={class:"card shadow-sm"},x=["aria-label"],S={class:"card-body"},P={class:"card-text"},I={class:"me-2"},N={class:"discount badge bg-danger"},k={class:"d-flex justify-content-between align-ite-center"},B={class:"price text-muted"},C={class:"real text-danger"},L={__name:"Card",props:{item:{id:Number,imgPath:String,name:String,price:Number,discountPer:Number}},setup(a){const t=a,i=u(()=>(t.item.price-t.item.price*t.item.discountPer/100).toLocaleString()+"원"),s=_(),r=p(),d=async()=>{if(!r.loggedIn){window.confirm("로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&await s.push("/login");return}(await y(t.item.id)).status===200&&window.confirm("장바구니에 상품을 담았습니다. 장바구니로 이동하시겠습니까?")&&await s.push("/cart")};return(m,l)=>(c(),n("div",$,[e("span",{class:"img",style:g({backgroundImage:`url(${t.item.imgPath})`}),"aria-label":`싱픔 사진(${t.item.name})`},null,12,x),e("div",S,[e("p",P,[e("span",I,o(t.item.name),1),e("span",N,o(t.item.discountPer)+"%",1)]),e("div",k,[e("button",{class:"btn btn-primary btn-sm",onClick:l[0]||(l[0]=z=>d())},"장바구니 담기"),e("small",B,o(t.item.price.toLocaleString())+"원",1),e("small",C,o(i.value),1)])])]))}},D=()=>h.get("/v1/api/items").catch(a=>a.response),F={class:"home"},R={class:"album py-5 bg-light"},V={class:"container"},j={class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-3"},q={class:"col"},H={__name:"Home",setup(a){const t=b({item:[]});return async function(){const s=await D();s.status===200&&(t.item=s.data,console.log(s.data))}(),(i,s)=>(c(),n("div",F,[e("div",R,[e("div",V,[e("div",j,[(c(!0),n(f,null,w(t.item,r=>(c(),n("div",q,[v(L,{item:r},null,8,["item"])]))),256))])])])]))}};export{H as default};
